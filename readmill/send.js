(function(a){function f(a){return e.getElementsByClassName?e.getElementsByClassName(a):function(){var b=e.getElementsByTagName("*"),c=[],d=new RegExp("(\\s|^)"+a+"(\\s|$)");for(i=b.length;i--;){var f=b[i],g=f.className||f.getAttribute("class")||"";g.match(d)&&c.push(f)}return c}()}function g(a,b,c,d){var e;(e=a.getAttribute(b))&&c.push(d+"="+encodeURIComponent(e))}function h(a,b){function f(b,c){a.setAttribute(b,c)}var d="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; position: static; left: 0px; top: 0px;",e;switch(b){case"large":d+="width: 170px !important; height: 40px !important;",e=c+"/assets/platform/btn_ph_str_large.png";break;case"small":d+="width: 72px !important; height: 26px !important; ",e=c+"/assets/platform/btn_ph_str_small.png"}a.style.cssText="background: transparent url("+e+") !important; "+d,f("allowTransparency","true"),f("frameBorder","0"),f("tabIndex","0"),f("scrolling","no"),a.className?a.className="send-to-readmill "+b:a.setAttribute("class","send-to-readmill "+b)}function j(){var a=f("send-to-readmill");for(var c=a.length;c--;){var d=a[c],i=d.parentNode,j=[],k,l,m;if(d.tagName.toLowerCase()!=="div")continue;k=b+"/send",g(d,"data-download-url",j,"download_url"),g(d,"data-buy-url",j,"buy_url"),m=(d.getAttribute("data-display")||"").toLowerCase(),m!="large"&&m!="small"&&(m="large"),j.push("display="+m),j.push("origin_domain="+encodeURIComponent(e.domain)),k+="?"+j.join("&"),l=e.createElement("iframe"),h(l,m),l.src=k,i.insertBefore(l,d),i.removeChild(d)}}function k(){d||(d=!0,j())}var b="https://widgets.readmill.com",c="https://platform.readmill.com",d=!1,e=a.document;e.addEventListener?(e.addEventListener("DOMContentLoaded",k,!1),a.addEventListener("load",k,!1)):e.attachEvent?(e.attachEvent("onreadystatechange",function(){e.readyState==="complete"&&k()}),e.attachEvent("onload",k)):e.onload=k,e.readyState==="complete"&&setTimeout(function(){k()},1),a.Readmill=a.Readmill||{},a.Readmill.SendToReadmill={build:j}})(window)